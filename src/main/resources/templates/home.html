<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOTA BENE</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ“</text></svg>"/>
    <link rel="stylesheet" th:href="@{/css/global.css}">
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" th:href="@{/css/home.css}">
</head>
<body>

<div th:replace="~{fragments/header :: main-header}"></div>

<main class="main-content">

    <div class="page-header">
        <h1 class="page-title">Le tue note</h1>
    </div>

    <div class="toolbar">
        <div class="search-container">
            <div class="search-icon">ğŸ”</div>
            <input
                type="text"
                class="search-input"
                placeholder="Cerca nelle tue note e tag..."
                id="search-input"
            >
        </div>

        <fieldset class="date-range-group">
            <legend>Creata</legend>
            <div class="date-range">
                <input type="date" id="createdFrom" name="createdFrom">
                <span class="range-separator">â†’</span>
                <input type="date" id="createdTo" name="createdTo">
            </div>
        </fieldset>
        <div class="filter-buttons">
            <button class="btn primary" id="apply-filters-btn">Filtra</button>
            <button class="btn secondary" id="reset-filters-btn">Azzera</button>
        </div>
        <div class="results-info">Risultati: <span id="results-count">0</span></div>
        <fieldset class="date-range-group">
            <legend>Modificata</legend>
            <div class="date-range">
                <input type="date" id="modifiedFrom" name="modifiedFrom">
                <span class="range-separator">â†’</span>
                <input type="date" id="modifiedTo" name="modifiedTo">
            </div>
        </fieldset>

        <div class="toolbar-actions">
            <a href="/form" class="btn primary" id="new-note-btn">Nuova nota</a>
        </div>
    </div>

    <div id="notes-container" class="notes-container">
    </div>

    <div id="empty-state" class="empty-state" style="display: none;">
        <div class="empty-icon">ğŸ“</div>
        <h2 class="empty-title">Nessuna nota trovata</h2>
        <p class="empty-description">Inizia creando la tua prima nota!</p>
    </div>

    <div class="notes-controls">
        <button id="toggle-view-btn" class="btn secondary">Visualizza per cartelle</button>
        <select id="note-folder-select" style="display:none;">
            <option value="">Tutte le cartelle</option>
        </select>
    </div>
    
</main>

<script th:src="@{/js/home.js}"></script>
<div th:replace="~{fragments/scripts :: auth-scripts}"></div>
<script th:src="@{/js/note-viewer.js}"></script>
<script th:src="@{/js/noteFolder.js}"></script>

</body>
</html>
